<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catalogo</title>
    <link rel="stylesheet" href="../Vista/Catalogopage.css">
</head>
<script src="../Controlador/Shared/config.js"></script>
<script src="../Controlador/getProductoControlles.js" onerror="console.error('❌ Error cargando getProductoControlles.js')" onload="console.log('✅ getProductoControlles.js cargado')"></script>
<script>
document.addEventListener('DOMContentLoaded', async () => {
    const productosConImagenes = await getProductos();
    const grid = document.getElementById('products_grid');
    grid.innerHTML = ""; // Limpia el grid

    productosConImagenes.forEach(({ producto, imagenes }) => {
        const imgSrc = (imagenes && imagenes.length > 0) ? imagenes[0].url_completa : "../img/no-image.png";
        const card = document.createElement('div');
        card.className = "product-card";
        card.innerHTML = `
            <a href="">
                <div>
                    <div class="product_visual">
                        <img class="product_image" src="${imgSrc}" alt="${producto.nombre}">
                    </div>
                    <div class="product_info">
                        <h3 class="product_tittle">${producto.nombre}</h3>
                        <div class="product_classification"></div>
                        <h3 class="product_price">S/${producto.precio}</h3>
                    </div>
                </div>
            </a>
        `;
        grid.appendChild(card);
    });
});
</script>
<body>
    <header class="promo-header">
        <div class="promo-text">
            Regístrese y obtenga un 20% de descuento en su primer pedido. Regístrese ahora
        </div>
        <button class="close-button" aria-label="Cerrar promoción">
            <img src="../img/X.png" alt="Cerrar" width="10" height="10">
        </button>
    </header>

    <script>
        document.querySelector('.close-button').addEventListener('click', function() {
            document.querySelector('.promo-header').classList.add('hidden');
        });
    </script>

    <!---Navegador-->

    <nav class="main-nav">
        <div class="nav-contenedor">
            <a href="Home.html" class="logo" style="font-family: 'Integral',sans-serif; font-size:32px;">Perify.co</a>
            
            <div class="nav-links">
                <div class="nav-item">
                    <span>Tienda</span>
                    <img src="../img/desplegable.png" alt="Desplegable" width="10" height="8">
                    <div class="dropdown-menu">
                        <a href="Catalogo.html" class="dropdown-item">Catálogo</a>
                        <a href="#" class="dropdown-item">Ofertas</a>
                        <a href="#" class="dropdown-item">Novedades</a>
                    </div>
                </div>
                <a href="Marcas.html" class="nav-item">Marcas</a>
                <a href="Contacto.html" class="nav-item">Contacto</a>
                <a href="Noticias.html" class="nav-item">Noticias</a>
            </div>

            <div class="barra-busqueda">
                <img src="../img/busqueda.png" alt="Buscar" width="20" height="20">
                <input type="text" placeholder="Buscar...">
            </div>

            <div class="nav-icons">
                <button class="icon-button" aria-label="Carrito de compras">
                    <img src="../img/carrito.png" alt="Carrito" width="20" height="20">
                </button>
                <button class="icon-button" aria-label="Usuario">
                    <img src="../img/usuario.png" alt="Usuario" width="20" height="20">
                </button>
            </div>
        </div>
    </nav>
<!---Fin Navegador-->

    
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
<!---Main-->

    <div id="main">        
        <div id="filter">
            <div class="Tittle_filter">
                <h3>Filtros</h3>
            </div> 

            <div class="filter-section">
                <button class="button_type">Monitores></button>
                <button class="button_type">Mouses></button>
                <button class="button_type">Teclados></button>
                <button class="button_type">Auricolares></button>
                <button class="button_type">Componentes></button>
            </div>

            <div class="Tittle_filter">
                <h4>Marcas</h4>
            </div>
            <div class="filter-section">
                <button class="button_marca">Logitech</button>
                <button class="button_marca">Corsair</button>
                <button class="button_marca">Hyper X</button>
                <button class="button_marca">RedDragon</button>
                <button class="button_marca">RAZER</button>
                <button class="button_marca">Intel</button>
                <button class="button_marca">AMD</button>
                <button class="button_marca">NVIDIA</button>
                <button class="button_marca">Kingston</button>
            </div>

            <div class="Tittle_filter">
                <h4>Tipos</h4>
            </div>
            <div class="filter-section">
                <button class="button_type">Inalambrico</button>
                <button class="button_type">Alambrico</button>
                <button class="button_type">Gaming</button>
                <button class="button_type">Oficina</button>
            </div> 
            <div class="button_valid">
                <button class="button_filter">Aplicar Filtro</button> 
            </div>
        </div>

        <div id="products">
            <div class="Tittle_products">
                <h1>Catalogo</h1>
            </div>
            <div class="products_grid" id="products_grid">
                <!-- Aquí se insertarán las tarjetas dinámicamente -->
            </div>
        </div>
    </div>
    
    
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>       
<!---Aqui -->
    <footer class="footer">
        <div class="newsletter-section">
            <div class="newsletter-content">
                <h2>Mantengase actualizado sobre nuestras ultimas ofertas</h2>
                <div class="newsletter-form">
                    <div class="email-input">
                        <div class="email-icon">
                            <img src="../img/email.png" alt="Email" width="20" height="15">
                        </div>
                        <input type="email" placeholder="Ingresa tu correo electrónico">
                    </div>
                    <button class="subscribe-btn">Suscríbete para ver novedades</button>
                </div>
            </div>
        </div>

        <div class="footer-content">
            <div class="footer-section">
                <h3 id="Logo-footer">Perify.CO</h3>
                <p id="parrafo-footer">Tenemos periféricos que se adaptan a tu estilo y de los que te sentirás orgulloso. Desde setups minimalistas hasta equipos para gamers exigentes.</p>
                <div class="social-icons">
                    <a href="#" class="social-icon"><img src="../img/twitter.png" alt="Twitter"></a>
                    <a href="#" class="social-icon"><img src="../img/facebook.png" alt="Facebook"></a>
                    <a href="#" class="social-icon"><img src="../img/instagram.png" alt="Instagram"></a>
                    <a href="#" class="social-icon"><img src="../img/github.png" alt="GitHub"></a>
                </div>
            </div>

            <div class="info-footer">
                <h3>COMPAÑIA</h3>
                <ul>
                    <li><a href="#">Acerca</a></li>
                    <li><a href="#">Características</a></li>
                    <li><a href="#">Trabajo</a></li>
                    <li><a href="#">Carrera</a></li>
                </ul>
            </div>

            <div class="info-footer">
                <h3>AYUDA</h3>
                <ul>
                    <li><a href="#">Soporte al Cliente</a></li>
                    <li><a href="#">Detalles de Entrega</a></li>
                    <li><a href="#">Términos y condiciones</a></li>
                    <li><a href="#">Política de Privacidad</a></li>
                </ul>
            </div>

            <div class="info-footer">
                <h3>FAQ</h3>
                <ul>
                    <li><a href="#">Cuenta</a></li>
                    <li><a href="#">Administrar entregas</a></li>
                    <li><a href="#">Órdenes</a></li>
                    <li><a href="#">Pagos</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p class="copyright">Perify.co © 2000-2025, Todos los Derechos Reservados</p>
            <div class="payment-methods">
                <img src="../img/visa.png" alt="Visa">
                <img src="../img/mastercard.png" alt="Mastercard">
                <img src="../img/paypal.png" alt="PayPal">
                <img src="../img/apple-pay.png" alt="Apple Pay">
                <img src="../img/google-pay.png" alt="Google Pay">
            </div>
        </div>
    </footer>

</body>
</html>